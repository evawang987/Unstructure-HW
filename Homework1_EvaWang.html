<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eva Wang">

<title>Homework1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Homework1_EvaWang_files/libs/clipboard/clipboard.min.js"></script>
<script src="Homework1_EvaWang_files/libs/quarto-html/quarto.js"></script>
<script src="Homework1_EvaWang_files/libs/quarto-html/popper.min.js"></script>
<script src="Homework1_EvaWang_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Homework1_EvaWang_files/libs/quarto-html/anchor.min.js"></script>
<link href="Homework1_EvaWang_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Homework1_EvaWang_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Homework1_EvaWang_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Homework1_EvaWang_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Homework1_EvaWang_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Homework1_EvaWang_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="Homework1_EvaWang_files/libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="Homework1_EvaWang_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="Homework1_EvaWang_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="Homework1_EvaWang_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="Homework1_EvaWang_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="Homework1_EvaWang_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Homework1_EvaWang_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#task-1-whos-got-beef" id="toc-task-1-whos-got-beef" class="nav-link active" data-scroll-target="#task-1-whos-got-beef">Task 1: Who’s Got Beef?</a></li>
  <li><a href="#task-2-tipping-culture" id="toc-task-2-tipping-culture" class="nav-link" data-scroll-target="#task-2-tipping-culture">Task 2: Tipping Culture</a></li>
  <li><a href="#task-3-population-centers" id="toc-task-3-population-centers" class="nav-link" data-scroll-target="#task-3-population-centers">Task 3: Population Centers</a>
  <ul class="collapse">
  <li><a href="#alternative-way" id="toc-alternative-way" class="nav-link" data-scroll-target="#alternative-way">Alternative Way</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Eva Wang </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="task-1-whos-got-beef" class="level1">
<h1>Task 1: Who’s Got Beef?</h1>
<p>The CIA has a running tab on international boundary disputes: https://www.cia.gov/the-world-factbook/field/disputes-international.</p>
<p>Which countries seem to be involved in the most land disputes?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>dispute_link <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">'https://www.cia.gov/the-world-factbook/field/disputes-international'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>dispute_data <span class="ot">&lt;-</span> dispute_link <span class="sc">%&gt;%</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">"p"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Painful data cleaning :)</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>dispute_ni_dropped <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"[A-Za-z].*?: (N|n)+(one identified)"</span>, <span class="st">""</span>, dispute_data) <span class="co"># bye-bye none id</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>dispute_break_prep <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"([a-z])([A-Z])"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1￥</span><span class="sc">\\</span><span class="st">2"</span>, dispute_ni_dropped) <span class="co"># give sth weird to break on</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>dispute_break <span class="ot">&lt;-</span> <span class="fu">str_split</span>(dispute_break_prep, <span class="st">"￥"</span>) </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>dispute_break <span class="ot">&lt;-</span> <span class="fu">unlist</span>(dispute_break)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>country_list <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">str_extract_all</span>(dispute_break, <span class="st">"(.*)-(.*):(.*)"</span>)) <span class="co"># "[A-Za-z].*?:(.*)" not work</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's do the math</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>country_split_prep <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">'([A-Za-z])(-(.*):)'</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1@</span><span class="sc">\\</span><span class="st">2"</span>, country_list) </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>country_split_prep <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"([A-Za-z]))(-)"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1@</span><span class="sc">\\</span><span class="st">2"</span>, country_split_prep)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>country_split <span class="ot">&lt;-</span> <span class="fu">str_split</span>(country_split_prep, <span class="st">"@"</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>country_names <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_df</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(country_list), <span class="sc">~</span>{</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">Name =</span> country_split[[.x]][<span class="dv">1</span>])</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Miscellaneous</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>country_names<span class="sc">$</span>Name[<span class="dv">155</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"US"</span>) <span class="co"># Navassa Island (US)</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>country_names<span class="sc">$</span>Name[<span class="dv">235</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"UK"</span>) <span class="co"># South Georgia and South Sandwich Islands (UK)</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>country_names<span class="sc">$</span>Name[<span class="dv">297</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"UK"</span>) <span class="co"># UK (Gibraltar)</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># FINALLY</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>final_list <span class="ot">&lt;-</span> <span class="fu">table</span>(country_names<span class="sc">$</span>Name)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_list[<span class="fu">order</span>(final_list, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Russia           US      Ukraine        Kenya     Malaysia South Africa 
         5.5          5.5          3.5          3.0          3.0          3.0 </code></pre>
</div>
</div>
<p>Thus, Russia seems to be involved in the most land disputes.</p>
</section>
<section id="task-2-tipping-culture" class="level1">
<h1>Task 2: Tipping Culture</h1>
<p>The CIA also publishes information about 262 countries: https://www.cia.gov/the-world-factbook/countries/. Use the page’s API to randomly select 20 countries and report on the tipping cultures in those countries. You can find that information in the Travel Facts page for each country.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import Data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>full_link <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">'https://www.cia.gov/the-world-factbook/page-data/countries/page-data.json'</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>full_link <span class="ot">&lt;-</span> httr<span class="sc">::</span><span class="fu">content</span>(full_link, <span class="at">as =</span> <span class="st">'text'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>full_link <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(full_link, <span class="at">simplifyDataFrame =</span> <span class="cn">TRUE</span>, <span class="at">flatten =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>country_links <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'https://www.cia.gov/the-world-factbook'</span>, full_link<span class="sc">$</span>result<span class="sc">$</span>data<span class="sc">$</span>countries<span class="sc">$</span>edges<span class="sc">$</span>node.uri)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># country &lt;- full_link$result$data$countries$edges$node.title</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(7) # for my sanity</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>country_20 <span class="ot">&lt;-</span> <span class="fu">sample</span>(country_links, <span class="dv">20</span>) </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># country_name_test &lt;- sample(country, 20) # doesn't match</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Get country names</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>country_name <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"https://www.cia.gov/the-world-factbook/countries/"</span>,<span class="st">""</span>, country_20)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>country_name <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"/"</span>, <span class="st">""</span>, country_name) </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>country_name <span class="ot">&lt;-</span> <span class="fu">str_to_title</span>(country_name) </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Creat df for final output</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>final_tipping <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">20</span>))</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(final_tipping) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Country'</span>, <span class="st">'Tipping_Guidelines'</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  country_read <span class="ot">&lt;-</span> <span class="fu">read_html</span>(country_20[i]) </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find "Travel Facts" page</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  travel_link <span class="ot">&lt;-</span> country_read <span class="sc">%&gt;%</span> </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_elements</span>(<span class="st">"a[class='wfb-card__link-container']"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_attr</span>(<span class="st">'href'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="st">"https://www.cia.gov"</span>, .)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  travel_test <span class="ot">&lt;-</span> travel_link[<span class="fu">grep</span>(<span class="st">'travel-facts'</span>,travel_link)] <span class="co"># w/o travel fact</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">identical</span>(travel_test, <span class="fu">character</span>(<span class="dv">0</span>))) {final_tipping<span class="sc">$</span>Tipping_Guidelines[i] <span class="ot">&lt;-</span> <span class="st">"NA"</span>}</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    travel_read <span class="ot">&lt;-</span> <span class="fu">read_html</span>(travel_test) <span class="co"># read Travel Facts page</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find Tipping</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    text <span class="ot">&lt;-</span> travel_read <span class="sc">%&gt;%</span> </span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_elements</span>(<span class="st">"h3[class='mt30'], p"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_text</span>() </span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    tip <span class="ot">&lt;-</span> text[<span class="fu">which</span>(<span class="fu">grepl</span>(<span class="st">"Tipping Guidelines"</span>, text)) <span class="sc">+</span> <span class="dv">1</span>]</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">identical</span>(tip, <span class="fu">character</span>(<span class="dv">0</span>))) {tip <span class="ot">&lt;-</span> <span class="st">"NA"</span>} <span class="co"># for those w/o tipping</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    final_tipping<span class="sc">$</span>Tipping_Guidelines[i] <span class="ot">&lt;-</span> tip</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    final_tipping<span class="sc">$</span>Country[i] <span class="ot">&lt;-</span> country_name[i]  </span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="at">Country =</span> <span class="cn">NA</span>, <span class="at">Tipping_Guidelines =</span> <span class="cn">NA</span>)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>final_tipping </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Country
1                Germany
2                Czechia
3  Congo-Republic-Of-The
4                  Benin
5               Suriname
6                  Syria
7       Marshall-Islands
8                Hungary
9           Turkmenistan
10                Russia
11      French-Polynesia
12               Tunisia
13 Saint-Kitts-And-Nevis
14               Bahrain
15                 Egypt
16           Switzerland
17               Denmark
18           Saint-Lucia
19         New-Caledonia
20           Korea-South
                                                                                                                                                                                                                                                                                                           Tipping_Guidelines
1                                                                              Round up the bill in a restaurant. If the service is particularly good, you may add a few euros and/or leave a 5-10% tip. Tip taxi drivers 5-10% of the total fare. Tip porters 1-2 euros per bag. Leave 1-2 euros for housekeeping per night.
2                                   It is acceptable to tip 10-15% at a restaurant if no service charge is included but more commonly, you round up the bill. Tip bellhops $1 (USD) per bag for carrying luggage to your room; leaving a small tip for housekeeping is appreciated. Tipping is not required for taxi drivers.
3                                                                                                                                                                                                             Tip 10% in restaurants. Guides and resort staff usually expect tips, but taxi drivers do not need to be tipped.
4  Tipping in restaurants is appreciated; round up the bill in smaller establishments or tip up to 10%. Tipping at bars is unexpected. When taking a taxi, round up the fare. Tipping in hotels is not required, but if you enjoyed your stay you could tip the bellboy 200 francs per bag and the maid 200 francs per night.
5                                                                                                                                                                              Customers are expected to leave a 10% tip at restaurants, if a service charge has not already been added. Rounding up cab fare is appropriate.
6                                                                                                                                                                             Tipping is a common way of showing appreciation, but the amount is left to the discretion of the giver; 10 % is standard in larger restaurants.
7                                                                                                                                                                                                                  Meals are generally inexpensive so tipping by rounding up is appropriate. Taxi drivers do not expect tips.
8                                                                                     For restaurants, it is customary to tip 10-15% of the total bill. Gas station and public washroom attendants expect a 100-200 forints tip. Tip taxi drivers 10% of the fare. Bellhops appreciate 500 forint to carry bags to your room.
9                                                                                                                                                                                                                                  Tip guides $8-10 (USD) per person per day for a tour. Tour drivers may be tipped $5 (USD).
10                                                                 Tip between 10-15% of the bill at restaurants. A porter or bellhop should receive 30-90 rubles or $1-3 (USD) per bag to carry luggage to a room. Hotel housekeeping would appreciate between 60-120 rubles per day. Tipping taxi drivers is not necessary.
11                                                                         Many hotels and restaurants include a service charge. It is considerate to leave a little extra for outstanding service. At restaurants that do not add service charges, tip 10% of the bill. Taxi drivers customarily are tipped 10% of the fare.
12                                                                                                                                Tip 5-15%, or round up the bill at restaurants. Hotel porters expect 5 dinars per bag and hotel maids 20 dinars per week as a gratuity. Round up the fare for taxis or add 5% to the total.
13                                                                                                                                                                                                   Most hotels and restaurants add a service charge of 10% to cover tipping. If not, add a tip of 10-15% of the total bill.
14                                                                                                                  While there is often a 10% service charge at restaurants, it is still customary to leave a 10% tip for wait staff. Taxi drivers expect a 10% tip and porters will be happy with about 100 dinars per bag.
15                                                                                                   It is customary to tip restaurant staff 10-15% of the bill. Tip taxi drivers around 10% of the total fare and housekeeping staff at hotels around $2 (USD) per day. Tip bellhops loose change for carrying your luggage.
16                                                       A service charge is typically added at restaurants so no tipping is needed, but you can round up the bill for the wait staff. Round up a taxi fare or add 5%. Tipping is usually expected for hotel staff. A bellhop should receive 1-2 francs for each bag carried.
17                                                                                      Hotel and restaurant personnel are typically not tipped because service charges are included in the bill by law, but a tip of 10% for good service is appreciated. Taxi drivers are not tipped, but you may always round up the fare.
18                                                The local standard for gratuities is around 10% of the total bill for restaurant's wait staff and taxi drivers. Bellhops, room service, and housekeeping should receive at least $1 (USD) per day or when a service is rendered, unless a service charge has been assessed.
19                                                                                                                                                                                   Tipping is generally not expected. However, small tips given to tour guides are accepted. Rounding up the total bill is a good practice.
20                                                               South Korea has a no-tip culture. Staff in restaurants and hotels, as well as taxi drivers, porters, and bellhops do not expect tips. Telling the taxi driver "keep the change" is appreciated. Most hotels add a compulsory 10% service charge to the bill.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A lot of whitespace before the tipping text, so swipe to the right </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="task-3-population-centers" class="level1">
<h1>Task 3: Population Centers</h1>
<p>You will use the following link: https://www.census.gov/geographies/reference-files/time-series/geo/centers-population.html</p>
<p>From this link, you will be able to find two distinct links: Centers of Population by State for 2010 and 2020. Once you have those links, access the information on those pages, and plot the populations centers with the information you have. Are there any differences that seem compelling to you?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Import Data</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>census20 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://www2.census.gov/geo/docs/reference/cenpop2020/CenPop2020_Mean_ST.txt"</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>census10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://www2.census.gov/geo/docs/reference/cenpop2010/CenPop2010_Mean_ST.txt"</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Prep</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>state <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"state name.csv"</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> census20, <span class="at">y =</span> census10, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STNAME"</span>, <span class="st">"STATEFP"</span>))</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> census_data, <span class="at">y =</span> state, <span class="at">by.x =</span> <span class="st">"STNAME"</span>, <span class="at">by.y =</span> <span class="st">"State"</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> census_data <span class="sc">%&gt;%</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Code, STNAME, POPULATION.x, POPULATION.y) <span class="sc">%&gt;%</span> </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"2020"</span> <span class="ot">=</span> <span class="st">"POPULATION.x"</span>, <span class="st">"2010"</span> <span class="ot">=</span> <span class="st">"POPULATION.y"</span>) </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> census_data <span class="sc">%&gt;%</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2010"</span>), <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"Population"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hover =</span> <span class="fu">paste0</span>(STNAME, <span class="st">": "</span>, Population))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Viz</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fontstyle <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">15</span>, <span class="at">color =</span> <span class="st">'black'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>label <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"#EEEEEE"</span>, <span class="at">bordercolor =</span> <span class="st">"transparent"</span>, <span class="at">font =</span> fontstyle)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plot_geo</span>(census_data,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">locationmode =</span> <span class="st">"USA-states"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">frame =</span> <span class="sc">~</span>Year) <span class="sc">%&gt;%</span> </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">locations =</span> <span class="sc">~</span>Code,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">z =</span> <span class="sc">~</span>Population,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">zmin =</span> <span class="fu">min</span>(census_data<span class="sc">$</span>Population), <span class="at">zmax =</span> <span class="fu">max</span>(census_data<span class="sc">$</span>Population),</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="sc">~</span>Population, <span class="at">colorscale =</span> <span class="st">"IceFire"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">text =</span> <span class="sc">~</span>hover, <span class="at">hoverinfo =</span> <span class="st">'text'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">geo =</span> <span class="fu">list</span>(<span class="at">scope =</span> <span class="st">"usa"</span>),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">"Centers of Population by State"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">style</span>(<span class="at">hoverlabel =</span> label) <span class="sc">%&gt;%</span> </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-054df6ab9f09ba075df8" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-054df6ab9f09ba075df8">{"x":{"visdat":{"162186cebec75":["function () ","plotlyVisDat"]},"cur_data":"162186cebec75","attrs":{"162186cebec75":{"locationmode":"USA-states","frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"locations":{},"z":{},"zmin":563626,"zmax":39538223,"color":{},"colorscale":"IceFire","text":{},"hoverinfo":"text","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"geo","geo":{"domain":{"x":[0,1],"y":[0,1]},"scope":"usa"},"title":"Centers of Population by State","scene":{"zaxis":{"title":"Population"}},"hovermode":"closest","showlegend":false,"sliders":[{"currentvalue":{"prefix":"Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["2010"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2010","value":"2010"},{"method":"animate","args":[["2020"],{"transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true},"mode":"immediate"}],"label":"2020","value":"2020"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":500,"easing":"linear"},"frame":{"duration":500,"redraw":true}}]}]}],"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"colorbar":{"title":"Population","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"IceFire","showscale":true,"locationmode":"USA-states","frame":"2010","locations":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],"z":[4779736,710231,6392017,2915918,37253956,5029196,3574097,897934,601723,18801310,9687653,1360301,1567582,12830632,6483802,3046355,2853118,4339367,4533372,1328361,5773552,6547629,9883640,5303925,2967297,5988927,989415,1826341,2700551,1316470,8791894,2059179,19378102,9535483,672591,11536504,3751351,3831074,12702379,1052567,4625364,814180,6346105,25145561,2763885,625741,8001024,6724540,1852994,5686986,563626],"zmin":563626,"zmax":39538223,"text":["Alabama: 4779736","Alaska: 710231","Arizona: 6392017","Arkansas: 2915918","California: 37253956","Colorado: 5029196","Connecticut: 3574097","Delaware: 897934","District of Columbia: 601723","Florida: 18801310","Georgia: 9687653","Hawaii: 1360301","Idaho: 1567582","Illinois: 12830632","Indiana: 6483802","Iowa: 3046355","Kansas: 2853118","Kentucky: 4339367","Louisiana: 4533372","Maine: 1328361","Maryland: 5773552","Massachusetts: 6547629","Michigan: 9883640","Minnesota: 5303925","Mississippi: 2967297","Missouri: 5988927","Montana: 989415","Nebraska: 1826341","Nevada: 2700551","New Hampshire: 1316470","New Jersey: 8791894","New Mexico: 2059179","New York: 19378102","North Carolina: 9535483","North Dakota: 672591","Ohio: 11536504","Oklahoma: 3751351","Oregon: 3831074","Pennsylvania: 12702379","Rhode Island: 1052567","South Carolina: 4625364","South Dakota: 814180","Tennessee: 6346105","Texas: 25145561","Utah: 2763885","Vermont: 625741","Virginia: 8001024","Washington: 6724540","West Virginia: 1852994","Wisconsin: 5686986","Wyoming: 563626"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":563626,"cmax":39538223,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[4779736,710231,6392017,2915918,37253956,5029196,3574097,897934,601723,18801310,9687653,1360301,1567582,12830632,6483802,3046355,2853118,4339367,4533372,1328361,5773552,6547629,9883640,5303925,2967297,5988927,989415,1826341,2700551,1316470,8791894,2059179,19378102,9535483,672591,11536504,3751351,3831074,12702379,1052567,4625364,814180,6346105,25145561,2763885,625741,8001024,6724540,1852994,5686986,563626]}},"geo":"geo","visible":true,"hoverlabel":{"bgcolor":"#EEEEEE","bordercolor":"transparent","font":{"size":15,"color":"black"}}}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"2010","data":[{"colorbar":{"title":"Population","ticklen":2},"colorscale":"IceFire","showscale":true,"locationmode":"USA-states","frame":"2010","locations":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],"z":[4779736,710231,6392017,2915918,37253956,5029196,3574097,897934,601723,18801310,9687653,1360301,1567582,12830632,6483802,3046355,2853118,4339367,4533372,1328361,5773552,6547629,9883640,5303925,2967297,5988927,989415,1826341,2700551,1316470,8791894,2059179,19378102,9535483,672591,11536504,3751351,3831074,12702379,1052567,4625364,814180,6346105,25145561,2763885,625741,8001024,6724540,1852994,5686986,563626],"zmin":563626,"zmax":39538223,"text":["Alabama: 4779736","Alaska: 710231","Arizona: 6392017","Arkansas: 2915918","California: 37253956","Colorado: 5029196","Connecticut: 3574097","Delaware: 897934","District of Columbia: 601723","Florida: 18801310","Georgia: 9687653","Hawaii: 1360301","Idaho: 1567582","Illinois: 12830632","Indiana: 6483802","Iowa: 3046355","Kansas: 2853118","Kentucky: 4339367","Louisiana: 4533372","Maine: 1328361","Maryland: 5773552","Massachusetts: 6547629","Michigan: 9883640","Minnesota: 5303925","Mississippi: 2967297","Missouri: 5988927","Montana: 989415","Nebraska: 1826341","Nevada: 2700551","New Hampshire: 1316470","New Jersey: 8791894","New Mexico: 2059179","New York: 19378102","North Carolina: 9535483","North Dakota: 672591","Ohio: 11536504","Oklahoma: 3751351","Oregon: 3831074","Pennsylvania: 12702379","Rhode Island: 1052567","South Carolina: 4625364","South Dakota: 814180","Tennessee: 6346105","Texas: 25145561","Utah: 2763885","Vermont: 625741","Virginia: 8001024","Washington: 6724540","West Virginia: 1852994","Wisconsin: 5686986","Wyoming: 563626"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":563626,"cmax":39538223,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[4779736,710231,6392017,2915918,37253956,5029196,3574097,897934,601723,18801310,9687653,1360301,1567582,12830632,6483802,3046355,2853118,4339367,4533372,1328361,5773552,6547629,9883640,5303925,2967297,5988927,989415,1826341,2700551,1316470,8791894,2059179,19378102,9535483,672591,11536504,3751351,3831074,12702379,1052567,4625364,814180,6346105,25145561,2763885,625741,8001024,6724540,1852994,5686986,563626]}},"geo":"geo","visible":true}],"traces":[0]},{"name":"2020","data":[{"colorbar":{"title":"Population","ticklen":2},"colorscale":"IceFire","showscale":true,"locationmode":"USA-states","frame":"2020","locations":["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],"z":[5024279,733391,7151502,3011524,39538223,5773714,3605944,989948,689545,21538187,10711908,1455271,1839106,12812508,6785528,3190369,2937880,4505836,4657757,1362359,6177224,7029917,10077331,5706494,2961279,6154913,1084225,1961504,3104614,1377529,9288994,2117522,20201249,10439388,779094,11799448,3959353,4237256,13002700,1097379,5118425,886667,6910840,29145505,3271616,643077,8631393,7705281,1793716,5893718,576851],"zmin":563626,"zmax":39538223,"text":["Alabama: 5024279","Alaska: 733391","Arizona: 7151502","Arkansas: 3011524","California: 39538223","Colorado: 5773714","Connecticut: 3605944","Delaware: 989948","District of Columbia: 689545","Florida: 21538187","Georgia: 10711908","Hawaii: 1455271","Idaho: 1839106","Illinois: 12812508","Indiana: 6785528","Iowa: 3190369","Kansas: 2937880","Kentucky: 4505836","Louisiana: 4657757","Maine: 1362359","Maryland: 6177224","Massachusetts: 7029917","Michigan: 10077331","Minnesota: 5706494","Mississippi: 2961279","Missouri: 6154913","Montana: 1084225","Nebraska: 1961504","Nevada: 3104614","New Hampshire: 1377529","New Jersey: 9288994","New Mexico: 2117522","New York: 20201249","North Carolina: 10439388","North Dakota: 779094","Ohio: 11799448","Oklahoma: 3959353","Oregon: 4237256","Pennsylvania: 13002700","Rhode Island: 1097379","South Carolina: 5118425","South Dakota: 886667","Tennessee: 6910840","Texas: 29145505","Utah: 3271616","Vermont: 643077","Virginia: 8631393","Washington: 7705281","West Virginia: 1793716","Wisconsin: 5893718","Wyoming: 576851"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":563626,"cmax":39538223,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[5024279,733391,7151502,3011524,39538223,5773714,3605944,989948,689545,21538187,10711908,1455271,1839106,12812508,6785528,3190369,2937880,4505836,4657757,1362359,6177224,7029917,10077331,5706494,2961279,6154913,1084225,1961504,3104614,1377529,9288994,2117522,20201249,10439388,779094,11799448,3959353,4237256,13002700,1097379,5118425,886667,6910840,29145505,3271616,643077,8631393,7705281,1793716,5893718,576851]}},"geo":"geo","visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show in HTML</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(p, <span class="st">"p1.html"</span>, <span class="at">selfcontained =</span> F, <span class="at">libdir =</span> <span class="st">"lib"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">zip</span>(<span class="st">"p1.zip"</span>, <span class="fu">c</span>(<span class="st">"p1.html"</span>, <span class="st">"lib"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In general, we can observe the growth of population from 2010 to 2020. And interestingly, Texas has attracted more population in the past decade.</p>
<p>Considering that sometimes computers hate humans, I attached the screenshots just in case: <img src="2010.png" class="img-fluid" alt="2010 Census"> <img src="2020.png" class="img-fluid" alt="2020 Census"></p>
<section id="alternative-way" class="level2">
<h2 class="anchored" data-anchor-id="alternative-way">Alternative Way</h2>
<p>Witness my struggle…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(urbnmapr)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to geometry</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>census20_sf <span class="ot">&lt;-</span> census20 <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span><span class="fu">c</span>(<span class="st">'LONGITUDE'</span>, <span class="st">'LATITUDE'</span>), <span class="at">crs=</span><span class="dv">4326</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>census20_sf <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(census20_sf, <span class="at">crs=</span><span class="dv">4326</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>census10_sf <span class="ot">&lt;-</span> census10 <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span><span class="fu">c</span>(<span class="st">'LONGITUDE'</span>, <span class="st">'LATITUDE'</span>), <span class="at">crs=</span><span class="dv">4326</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>census10_sf <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(census10_sf, <span class="at">crs=</span><span class="dv">4326</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># get states map</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>states_sf <span class="ot">&lt;-</span> <span class="fu">get_urbn_map</span>(<span class="at">map =</span> <span class="st">"states"</span>, <span class="at">sf =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) <span class="co"># get rid of scientific counting</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 2020</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>states_sf <span class="sc">%&gt;%</span> </span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(census20, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"state_name"</span><span class="ot">=</span><span class="st">"STNAME"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> POPULATION),</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"#ffffff"</span>, <span class="at">size =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">n.breaks =</span> <span class="dv">7</span>, <span class="at">low =</span> <span class="st">"#9ecae1"</span>, <span class="at">high =</span> <span class="st">"#3182bd"</span>) <span class="sc">+</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Population"</span>,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Centers of Population by State for 2020"</span>) <span class="sc">+</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NA</span>) <span class="sc">+</span>   </span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Homework1_EvaWang_files/figure-html/Alternative-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2010</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>states_sf <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(census10, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"state_name"</span><span class="ot">=</span><span class="st">"STNAME"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">fill =</span> POPULATION),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"#ffffff"</span>, <span class="at">size =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">n.breaks =</span> <span class="dv">7</span>, <span class="at">low =</span> <span class="st">"#9ecae1"</span>, <span class="at">high =</span> <span class="st">"#3182bd"</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Population"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Centers of Population by State for 2010"</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NA</span>) <span class="sc">+</span>   </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Homework1_EvaWang_files/figure-html/Alternative-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the map data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>state <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">"state"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Prep</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>census20_gg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">52</span>))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>census20_gg<span class="sc">$</span>POPULATION <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census20<span class="sc">$</span>POPULATION)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>census20_gg<span class="sc">$</span>LATITUDE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census20<span class="sc">$</span>LATITUDE)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>census20_gg<span class="sc">$</span>LONGITUDE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census20<span class="sc">$</span>LONGITUDE)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>census10_gg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">nrow =</span> <span class="dv">52</span>))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>census10_gg<span class="sc">$</span>POPULATION <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census10<span class="sc">$</span>POPULATION)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>census10_gg<span class="sc">$</span>LATITUDE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census10<span class="sc">$</span>LATITUDE)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>census10_gg<span class="sc">$</span>LONGITUDE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(census10<span class="sc">$</span>LONGITUDE)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the map</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>) <span class="co"># get rid of scientific counting</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 2020</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> state) <span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"grey"</span>, <span class="at">color =</span> <span class="st">"transparent"</span>) <span class="sc">+</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> census20_gg, </span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> LONGITUDE, <span class="at">y =</span> LATITUDE, <span class="at">size =</span> POPULATION), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Homework1_EvaWang_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2010</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> state) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"grey"</span>, <span class="at">color =</span> <span class="st">"transparent"</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> census10_gg, </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> LONGITUDE, <span class="at">y =</span> LATITUDE, <span class="at">size =</span> POPULATION), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Homework1_EvaWang_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>